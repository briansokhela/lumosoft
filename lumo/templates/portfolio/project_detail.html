{% extends "base.html" %}
{% load static %}

{% block title %}{{ project.title }} - Lumo Software Solutions{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header project-header">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h1>{{ project.title }}</h1>
                <p class="lead">{{ project.description }}</p>
                <div class="project-meta">
                    <span class="badge bg-primary me-2">{{ project.get_category_display }}</span>
                    <span class="client"><strong>Client:</strong> {{ project.client }}</span>
                    <span class="date ms-3"><strong>Completed:</strong> {{ project.completion_date|date:"F Y" }}</span>
                </div>
            </div>
            <div class="col-lg-4 text-lg-end">
                <div class="project-links">
                    {% if project.website_url %}
                    <a href="{{ project.website_url }}" target="_blank" class="btn btn-primary me-2">View Live Project</a>
                    {% endif %}
                    {% if project.github_url %}
                    <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline-primary">GitHub</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Project Gallery Section -->
<section class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="project-gallery">
                    {% if project.image %}
                    <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid rounded main-image">
                    {% else %}
                    <img src="{% static 'images/project-placeholder.jpg' %}" alt="{{ project.title }}" class="img-fluid rounded main-image">
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-4">
                <div class="project-details-sidebar">
                    <h4>Project Details</h4>
                    
                    <div class="detail-item">
                        <h6>Technologies Used</h6>
                        <div class="tech-tags">
                            {% for tech in technologies %}
                            <span class="tech-tag">{{ tech }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <h6>Project Category</h6>
                        <p>{{ project.get_category_display }}</p>
                    </div>
                    
                    <div class="detail-item">
                        <h6>Completion Date</h6>
                        <p>{{ project.completion_date|date:"F j, Y" }}</p>
                    </div>
                    
                    {% if project.client %}
                    <div class="detail-item">
                        <h6>Client</h6>
                        <p>{{ project.client }}</p>
                    </div>
                    {% endif %}
                    
                    <div class="project-cta">
                        <a href="{% url 'contacts:contact' %}?project={{ project.slug }}" class="btn btn-primary w-100">Start Similar Project</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Case Study Section -->
<section class="section bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="case-study-content">
                    <h2 class="text-center mb-5">Case Study</h2>
                    
                    <div class="case-study-section">
                        <h3>The Challenge</h3>
                        <p>{{ project.full_case_study|linebreaks }}</p>
                    </div>
                    
                    <div class="case-study-section">
                        <h3>The Solution</h3>
                        <p>We developed a comprehensive solution that addressed all the client's requirements while ensuring scalability and maintainability. Our approach included:</p>
                        <ul>
                            <li>Thorough requirements analysis and planning</li>
                            <li>Agile development methodology</li>
                            <li>Regular client feedback and iterations</li>
                            <li>Comprehensive testing and quality assurance</li>
                        </ul>
                    </div>
                    
                    <div class="case-study-section">
                        <h3>The Result</h3>
                        <p>The project was delivered on time and within budget, exceeding the client's expectations. The solution has been running successfully and has significantly improved the client's operational efficiency.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Related Projects Section -->
{% if related_projects %}
<section class="section">
    <div class="container">
        <div class="section-title">
            <h2>Related Projects</h2>
        </div>
        <div class="row">
            {% for related_project in related_projects %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="portfolio-item">
                    {% if related_project.image %}
                        <img src="{{ related_project.image.url }}" alt="{{ related_project.title }}">
                    {% else %}
                        <img src="{% static 'images/project-placeholder.jpg' %}" alt="{{ related_project.title }}">
                    {% endif %}
                    <div class="portfolio-overlay">
                        <div class="portfolio-overlay-content">
                            <h4 style="color: aliceblue;">{{ related_project.title }}</h4>
                            <p>{{ related_project.description|truncatewords:10 }}</p>
                            <span class="badge bg-light text-dark mb-2">{{ related_project.get_category_display }}</span>
                            <a href="{% url 'portfolio:project_detail' related_project.slug %}" class="btn btn-secondary mt-2">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="section">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2>Have a Similar Project in Mind?</h2>
                <p class="lead mb-4">Let's discuss how we can help bring your vision to life with our expertise and experience.</p>
                <a href="{% url 'contacts:contact' %}?project={{ project.slug }}" class="btn btn-primary btn-lg me-3">Start Your Project</a>
                <a href="{% url 'portfolio:project_list' %}" class="btn btn-outline-primary btn-lg">View All Projects</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}